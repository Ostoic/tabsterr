import{s as e,y as a,x as r,l as t,A as n,v as o}from"./preact.a6d8947d.js";import{F as s,a7 as l,a8 as i,a9 as d,aa as p,ab as u,ac as c,ad as f,M as v,N as m,O as g}from"./index.52ddb71b.js";var h={field:s+" Bor2lc",popupField:s+" Bor2lc Bor1vf",hint:l+" Bor21p",file:"Bore7",input:i+" Bor1iu",readonly:d+" Bor2h9",popupInput:d+" Bor2h9 Bor96",button:p+" Bor32q",buttonBlue:u+" Borei",layer:"Bor2cy",inner:"Bor18n",label:"Bor1xx",svgColor:"Bor1je",svgStroke:"Bor1n1"};const w=r(((r,s)=>{const{id:l,label:i,name:d,error:p,errorStyles:u,accept:w,popup:B,isDropFileAvailable:b,isNewFormats:y}=r,[N,H]=t(null),k=n((e=>{const a=e.target.files.length?e.target.files[0].name:null;H(a)}),[]),[E,V]=t(null),[D,L]=t(null),M=function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];const o=e();return a((()=>{t.forEach((e=>{e&&("function"==typeof e?e(o.current):e.current=o.current)}))}),[t]),o}(s,e(null));b&&a((()=>{let e=0;const a=e=>{e.preventDefault(),e.stopPropagation()},r=a=>{a.preventDefault(),a.stopPropagation(),e++,a.dataTransfer.items&&a.dataTransfer.items.length>0&&V(!0)},t=a=>{a.preventDefault(),a.stopPropagation(),e--,e>0||V(!1)},n=a=>{a.preventDefault(),a.stopPropagation(),V(!1),a.dataTransfer.files&&a.dataTransfer.files.length>0&&(o(a.dataTransfer.files),a.dataTransfer.clearData(),e=0)},o=e=>{try{M.current.files=e;const a=m(y);g([{field:M.current,validator:a}]),L(null),H(e[0].name),M.current.files=e}catch(e){L(e),H(null),M.current.files=null}};return window.addEventListener("dragenter",r),window.addEventListener("dragleave",t),window.addEventListener("dragover",a),window.addEventListener("drop",n),()=>{window.removeEventListener("dragenter",r),window.removeEventListener("dragleave",t),window.removeEventListener("dragover",a),window.removeEventListener("drop",n)}}),[]);const F=c(D||p,d),T=o("span",{className:B?h.popupInput:h.readonly,"data-info":"filename"},N),x=o("span",{className:B?h.buttonBlue:h.button,"data-info":"button"},"".concat(B?"Upload":"Choose"," your .gp5 file"));return o("label",{className:B?h.popupField:h.field,"data-input":d},B?o(v,{styles:u,errorMessage:F,name:d}):i&&o("div",{className:h.hint,"data-label":d},i),o("input",{id:l,accept:w,name:d,type:"file",ref:M,onChange:k,className:h.file}),E&&o("div",{className:h.layer,"data-id":l},o("div",{className:h.inner},o("svg",{width:"188",height:"100",fill:"none"},o("path",{className:h.svgStroke,strokeWidth:"4",strokeDasharray:"8 8",d:"M2 2h104v24H82v48H2V2z"}),o("mask",{id:"a",maskUnits:"userSpaceOnUse",x:"80",y:"24",width:"108",height:"76"},o("path",{fill:"#fff",d:"M186 24H82a2 2 0 00-2 2v72c0 1.1.9 2 2 2h104a2 2 0 002-2V26a2 2 0 00-2-2z"})),o("g",{mask:"url(#a)"},o("path",{className:h.svgStroke,strokeWidth:"8",d:"M186 24H82a2 2 0 00-2 2v72c0 1.1.9 2 2 2h104a2 2 0 002-2V26a2 2 0 00-2-2z"}),o("path",{className:h.svgColor,d:"M132.02 77H135.98V63.74H149.06V60.2H135.98V46.94H132.02V60.2H118.94V63.74H132.02V77Z"}))),o("div",{className:h.label},"Drop GuitarPro file here"))),!B&&o(f,{name:d,errorMessage:F}),N?T:x)}));export{w as F};
//# sourceMappingURL=FileInput.2175e75e.js.map
