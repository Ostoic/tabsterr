import{_ as e,v as t,A as s,e as a,b as n,g as i,s as r,l as o,p as l,d as c,h as u,y as d}from"./preact.a6d8947d.js";import{u as h,L as m,w as p,x as f,C as v,y as g,T as C,n as y,P as k,z as b,B as w,E as N,F as x,H,v as S,J as B,K as z,M as I,N as M,O as D,Q as P,R as T,V as L,U as j,W as A,X as _,o as F,Y as O,Z as q,_ as E,$ as R,a0 as V,p as G,a1 as W,a2 as U,a3 as Q,a4 as J,a5 as K}from"./index.52ddb71b.js";import{j as Y,I as Z}from"./NetworkError.4c6315ee.js";import{D as X}from"./DifficultyIndicator.3b3c2313.js";import{F as $}from"./FileInput.2175e75e.js";import{s as ee}from"./user.56a2c185.js";var te={button:"Co02os",circle:"Co021p",arrow:"Co0sc",shape:"Co0u4",text:"Co02e1",plus:"Co01mx Co01ap",play:"Co0156",stroke:"Co01mx",playLoading:"Co0156 Co0z7",active:"Co02os Co033q",main:"Co02os Co02v6",mainActive:"Co02os Co033q Co01t0",icon:"Co02f1",warningCircle:"Co0d2",textSpeed:"Co02e1 Co011p",textHelp:"Co02e1 Co0rk",textBpm:"Co02e1 Co01b4",tuning:"Co0eb",speed:"Co0u4 Co0zs",editor:"Co0u4 Co035k",loop:"Co01mx Co02su",solo:"Co0u4 Co022n",mute:"Co01mx Co0eh",learn:"Co0u4 Co022e",print:"Co01mx Co0mr",countin:"Co0u4 Co02d3",metronome:"Co0u4 Co0va",minus:"Co01mx Co01ap Co02fk",new:"Co024j"};function se(){return t("defs",null,t("filter",{id:"svg_shadow",width:"200%",height:"200%",x:"-50%",y:"-50%"},t("feMorphology",{radius:1,operator:"dilate",in:"SourceAlpha",result:"a"}),t("feOffset",{dy:1,in:"a",result:"b"}),t("feGaussianBlur",{stdDeviation:2,in:"b",result:"c"}),t("feComposite",{in:"c",in2:"SourceAlpha",operator:"out",result:"d"}),t("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0",in:"d",result:"e"}),t("feBlend",{in:"SourceGraphic",in2:"e",mode:"normal"})))}class ae extends e{componentDidUpdate(e){const{canPlay:t}=this.props;e.canPlay&&!t?(this.animationTimer&&clearTimeout(this.animationTimer),this.animationTimer=setTimeout((()=>this.setState({loading:!0})),600)):!e.canPlay&&t&&(this.animationTimer&&clearTimeout(this.animationTimer),this.animationTimer=setTimeout((()=>this.setState({loading:!1})),600))}constructor(e){super(e),this.state={loading:!e.canPlay}}render(){const{onClick:e,shouldPlay:s,canPlay:a,hideDefs:n,title:i,titlePressed:r}=this.props,{loading:o}=this.state,l=o?te.playLoading:te.play;return t("button",{className:s?te.mainActive:te.main,onClick:e,"aria-pressed":s,"data-can-play":a},t("svg",{className:te.icon,width:65,height:65,viewBox:"-5 -4 65 65",role:"img","aria-labelledby":"mainplay-title-id","data-loading":o},!n&&se(),t("title",{},s&&r?r:i),t("circle",{className:te.circle,cx:"27.5",cy:"27.5",r:"27.5",filter:"url(#svg_shadow)"}),t("path",{className:l,transform:"translate(19 15)",d:s?"M-1 4c0-2 0-2 2-2h3c2 0 2 0 2 2v17c0 2 0 2-2 2h-3c-2 0-2 0-2-2zm12 0c0-2 0-2 2-2h3c2 0 2 0 2 2v17c0 2 0 2-2 2h-3c-2 0-2 0-2-2z":"M1 3s0-2 2-2 12.2 7 15 8.9c2.7 2 2.7 3.2 0 5.2-2.8 1.9-13 8.9-15 8.9s-2-2-2-2z"})))}}function ne(e){switch(e){case"loop":return"M29.5 17.5h2v10h-12m3-2.6l-3 2.6 3 2.6m-6.5-2.5h-2v-10h12m-3-2.6l3 2.6-3 2.6";case"solo":return"M12.5 24a10 10 0 1 1 20 0 8 8 0 0 1-1.3 4c-2 2-5 2.5-5 2.5a.6.6 0 0 1-.7-.5v-9a.6.6 0 0 1 .7-.5l4.55 2.8a8.3 8.5 0 0 0-16.5 0l4.55-2.8a.6.6 0 0 1 .7.5v9a.6.6 0 0 1-.7.5s-3-.5-5-2.5a8 8 0 0 1-1.3-4zm5.5-1a.5.5 0 0 0-.5-.3c-2.8 2-3 1.7-3 2.7 0 .9.5 2 3 2.9a.5.5 0 0 0 .5-.3zm9 5a.5.5 0 0 0 .5.3c2.5-.9 3-2 3-2.9 0-1-.2-.7-3-2.7a.5.5 0 0 0-.5.3z";case"mute":return"M23.5 30c0 1-1 2-2 1l-5-5h-2.5q-1 0-1-1v-4.5q0-1 1-1h2.5l5-5c1-1 2 0 2 1z m3-10.5l6 6m0-6l-6 6";case"print":return"M16.5 28h-2c-.8 0-1.5-.7-1.5-1.5v-5c0-.8.7-1.5 1.5-1.5h16c.8 0 1.5.7 1.5 1.5v5c0 .8-.7 1.5-1.5 1.5h-2v3c0 .8-.7 1.5-1.5 1.5h-9c-.8 0-1.5-.7-1.5-1.5zm0 0v-4h12v4m-12-8v-6h12v6m-9.5 9h7m-7-2h7";case"countin":return"M34 22a11.5 11.5 0 1 0-1 4.7l-1.8-.8a9.5 9.5 0 1 1-8.7-13.4v2A7.5 7.5 0 0 1 30 22zm-13.2 2.65c0 .6.5 1.3 1.45 1.3s1.45-.65 1.45-1.3S23.35 23 22.25 23H21v-1.5h1.25c1 0 1.3-1 1.3-1.5s-.4-1.2-1.3-1.2-1.35.75-1.35 1.2h-2c0-1.2 1-2.75 3.35-2.75S25.5 18.8 25.5 20s-.9 2-1.5 2.2c.85.25 1.7 1.15 1.7 2.45s-1 2.8-3.45 2.8-3.45-1.5-3.45-2.8";case"editor":return"M0 16.03h8.93l-.49 1.6H0v-1.6zM3.8 4.6h8.4a.8.8 0 1 1 0 1.6H3.8a.8.8 0 1 1 0-1.6zm3.4 5V1.2a.8.8 0 1 1 1.6 0v8.4a.8.8 0 0 1-1.6 0zM15.8.4c.51 0 .93.42.93.94v13.12c0 .52-.81 1.45-.94.94-.12-.52-.08-1.95-.94-1.36V1.34c0-.52.42-.94.94-.94zm.6 13.27c.27.37.39.96.33 1.41-.06.42-.27.94-.55 1.37a8.88 8.88 0 0 1-2.67 2.52 9.69 9.69 0 0 1-3.5 1.4c-.55.08-1.14.08-1.59-.02a2.44 2.44 0 0 1-1.32-.8c-.28-.37-.4-.96-.33-1.41.06-.42.27-.93.54-1.37a8.88 8.88 0 0 1 2.67-2.52 9.67 9.67 0 0 1 3.5-1.4 4.6 4.6 0 0 1 1.6.02c.47.11 1.03.43 1.31.8zm-1.67.7a2.46 2.46 0 0 0-.93 0c-.86.14-1.83.5-2.86 1.16a6.96 6.96 0 0 0-2.2 2.05c-.2.33-.3.55-.33.8-.03.22-.03.22.04.32.08.1.08.1.31.15.26.06.53.06.94 0 .86-.13 1.83-.5 2.86-1.16a6.94 6.94 0 0 0 2.19-2.05c.2-.33.3-.55.33-.8.03-.21.04-.21-.04-.32-.08-.1-.08-.1-.3-.15zm.15 1.66H25v1.6H13.8l1.08-1.6z";case"plus":return"M20 10v10m0 10V20m0 0h10m-10 0H10";case"minus":return"M20 20h10m-10 0H10";case"tuning":return"M9.7 19.1h-6m2-2-2 2 2 2m10-2h6m-2 2 2-2-2-2m-10-10v7s0 3 3 3 3-3 3-3v-7m-3 10v5";case"metronome":return"m10.7 4.7-.4-2.2c0-.1 0-.2-.2-.2H4c-.1 0-.2 0-.2.2L2.3 14.7h3.5l9.6-12.3c.7-.8 2 .2 1.2 1L8 14.7h3.7l-.1-1.5A.8.8 0 1 1 13 13l.2 2.4.4 2.9c0 1-.8 2-1.8 2H2c-1 0-1.9-1-1.8-2l1.8-16C2.2 1.3 3 .7 4 .7h6.2c1 0 1.7.6 1.8 1.5l.4 2.2a.8.8 0 0 1-1.6.3ZM2.2 16.3l-.3 2.2.2.2H12l.2-.2-.3-2.2H2.2Z"}}class ie extends e{render(){const{pressed:e,disabled:s,onClick:a,icon:n,text:i,title:r,titlePressed:o,hasPopup:l,isNew:c,warning:u}=this.props,d=e?te.active:te.button,h="".concat(n,"-title-id"),m="plus"===n||"minus"===n?"control-minimizer":"control-".concat(n),p=!e&&u?te.warningCircle:te.circle;return t("button",{className:d,onClick:a,"aria-haspopup":l,"aria-pressed":e,id:m,disabled:s},t("svg",{className:te.icon,width:55,height:55,viewBox:"-4 -4 55 55",role:"img","aria-labelledby":h},t("title",{id:h},e&&o?o:r),"plus"===n||"minus"===n?t("rect",{className:te.circle,x:2,y:2,width:40,height:40,rx:6,filter:"url(#svg_shadow)"}):t("circle",{className:p,cx:"22.5",cy:"22.5",r:"22.5",filter:"url(#svg_shadow)"}),function(e){switch(e){case"speed":return t("text",{className:te.textSpeed,"text-anchor":"middle",x:"22.5",y:"31"},"speed");case"help":return t("text",{className:te.textHelp,"text-anchor":"middle",x:"22",y:"30"},"?");default:return t("path",{className:te[e],d:ne(e)})}}(n),i&&t("text",{className:te.text,"text-anchor":"middle",x:"22",y:"21"},i)),c&&t("div",{className:te.new},"NEW"))}}function re(){return t("svg",{width:54,height:54,viewBox:"0 0 54 54"},t("path",{d:"M48 0a6 6 0 0 1 6 6v42a6 6 0 0 1-6 6h-42a6 6 0 0 1-6-6v-42a6 6 0 0 1 6-6zm-6.5 22.5h-10v-10h-9v10h-10v9h10v10h9v-10h10v-9z",fill:"#68d517"}))}function oe(e){let{shadow:s="#CA7F06",width:a=54,height:n=30,id:i="iconDemo"}=e;return t("svg",{width:a,height:n,viewBox:"0 0 54 30"},t("defs",{},t("filter",{id:i,x:"-200%",y:"-200%",width:"400%",height:"400%","filter-units":"objectBoundingBox","color-interpolation-filters":"sRGB"},t("feGaussianBlur",{in:"SourceGraphic"}),t("feOffset",{dy:3,result:"offsetBlur"}),t("feFlood",{"flood-color":s,"flood-opacity":1}),t("feComposite",{in2:"offsetBlur",operator:"in",result:"dropShadow"}),t("feBlend",{in:"SourceGraphic",in2:"dropShadow"}))),t("path",{d:"M6.75 0h40.5A6.75 6.75 0 0 1 54 6.75v13.5A6.75 6.75 0 0 1 47.25 27H6.75A6.75 6.75 0 0 1 0 20.25V6.75A6.75 6.75 0 0 1 6.75 0z",fill:"#FF9D00",filter:"url(#".concat(i,")"),databackgound:""}),t("path",{fill:"#FFF",d:"M13.18 15.76c.02.29.06.52.11.69.06.17.13.29.23.36s.23.1.38.1.28-.03.37-.1c.1-.07.18-.19.23-.36.06-.17.1-.4.11-.69a15.57 15.57 0 0 0 0-2.13 3.03 3.03 0 0 0-.1-.69.67.67 0 0 0-.24-.36.62.62 0 0 0-.37-.1.66.66 0 0 0-.38.1.67.67 0 0 0-.23.36c-.05.17-.09.4-.1.69a16.65 16.65 0 0 0 0 2.13zm4.12-6.55v9.47h-2.57V17.6h-.03c-.17.44-.4.76-.68.96-.28.2-.66.3-1.13.3-.89 0-1.5-.36-1.86-1.05a7.6 7.6 0 0 1-.53-3.28c0-.75.06-1.39.18-1.9.12-.5.28-.92.5-1.23.2-.32.46-.55.76-.68a2.4 2.4 0 0 1 2.02.03c.3.17.51.45.65.87h.03V9.2h2.66zM14.63 5.48h2.69v2.69h-2.69zM22.12 12.42c-.1-.2-.3-.3-.58-.3-.28 0-.46.1-.57.3-.1.2-.15.5-.15.93v.35h1.46v-.35c0-.43-.05-.74-.16-.93zm-1.3 3.77c0 .43.07.72.22.86a.7.7 0 0 0 .5.21c.23 0 .42-.09.55-.28.14-.2.2-.56.2-1.1h2.39c-.02.98-.27 1.72-.75 2.22-.48.5-1.28.74-2.38.74-.64 0-1.17-.07-1.6-.21a2.19 2.19 0 0 1-1.05-.7 3.02 3.02 0 0 1-.57-1.3 9.42 9.42 0 0 1-.17-1.93c0-.77.07-1.41.2-1.94.12-.54.32-.97.6-1.3.27-.34.63-.58 1.05-.73.43-.15.94-.23 1.54-.23.54 0 1 .06 1.4.2.4.12.73.33 1 .63s.47.7.6 1.18c.14.49.2 1.1.2 1.82v.81h-3.93v1.05zM29.22 12.7c-.1-.15-.27-.22-.5-.22-.24 0-.4.07-.5.22-.1.14-.15.39-.15.72v5.26H25.4v-7.97h2.57v.97h.03c.34-.79.99-1.18 1.93-1.18.55 0 .97.1 1.26.3.29.2.52.51.69.92.2-.45.48-.77.84-.95.36-.18.75-.27 1.16-.27.3 0 .57.03.82.1.25.06.47.18.65.34.2.17.34.4.45.67.1.27.16.63.16 1.06v6.01h-2.65v-5.26c0-.33-.05-.58-.15-.72-.1-.15-.27-.22-.5-.22-.24 0-.4.07-.5.22-.1.14-.15.39-.15.72v5.26h-2.65v-5.26c0-.33-.05-.58-.15-.72zM39.4 15.93c.02.32.06.57.12.76.06.19.14.31.23.38.1.07.21.1.36.1s.27-.03.37-.1c.1-.07.17-.2.23-.38.05-.19.09-.44.1-.76a21.45 21.45 0 0 0 0-2.47 3.69 3.69 0 0 0-.1-.76c-.06-.19-.13-.32-.23-.39a.63.63 0 0 0-.37-.1.6.6 0 0 0-.36.1c-.1.07-.17.2-.23.39-.06.18-.1.44-.12.76a20.82 20.82 0 0 0 0 2.47zm3.99.3c-.07.5-.23.95-.47 1.34-.23.39-.57.7-1.02.93-.45.23-1.04.34-1.79.34-.78 0-1.39-.1-1.84-.31-.45-.21-.8-.51-1.02-.89a3.4 3.4 0 0 1-.43-1.32 13 13 0 0 1 .01-3.17c.07-.5.23-.95.47-1.34.23-.4.57-.7 1.02-.95a3.78 3.78 0 0 1 1.79-.36c.78 0 1.39.11 1.84.33.45.22.8.53 1.02.9.23.4.37.84.43 1.34a13 13 0 0 1-.01 3.16z"}))}const le="i5k2";var ce={base:"i5k2",horizontalPopup:"i5k2 i52z2",verticalPopup:"i5k2 i51pj",verticalLeftPopup:"i5k2 i52e5",speedPopup:"i5k2 i52z2 i533w",pitchPopup:"i5k2 i52z2 i515d",soloPopup:"i5k2 i52z2 i527v",mutePopup:"i5k2 i52z2 i513s",loopPopup:"i5k2 i52z2 i51e9",printPopup:"i5k2 i52z2 i51xu",pitchshiftPopup:"i5k2 i52wn",link:"i5p0",basewrapper:"i5tp",wrapper:"i5tp i51jx",demowrapper:"i5tp i5173",text:"i5t4",linkText:"i51o8",demoText:"i517k",divider:"i52ov"};function ue(e,t,s){return s?ce["".concat(s,"Popup")]:e?ce.horizontalPopup:t?ce.verticalLeftPopup:ce.verticalPopup}function de(e){let{title:a,left:n,horizontal:i,classPrefix:r,leftOffset:o,topOffset:l}=e,c={};void 0!==o&&void 0!==l&&(c={top:"".concat(l,"px"),left:"".concat(o,"px")});const{dispatch:u}=h(),d=s((()=>{u("demo/activate")}),[u]),p=s((()=>{u("curiosity/setConversionProps",{"Last referring link":"".concat(a," Popup")})}),[a,u]);return t("div",{className:ue(i,n,r),style:c,role:"dialog"},t(m,{className:ce.link,to:"/a/wa/plus","aria-label":"".concat(a," is available on the Plus plan"),onClick:p},t("span",{className:ce.wrapper},t(re,null)),t("div",{className:ce.text},"".concat(a," is available"),t("br",null),"on the Plus plan",t("br",null),t("span",{className:ce.linkText},"See plans and pricing"))),t("div",{className:ce.divider}),t(m,{className:ce.link,to:"/a/wsa/led-zeppelin-stairway-to-heaven-tab-s27t1","aria-label":"Try out Demo Song (all the features enabled)",onClick:d},t("span",{className:ce.demowrapper},t(oe,null)),t("div",{className:ce.demoText},"Try out ".concat(a),t("br",null),t("span",{className:ce.linkText},"on the Demo Song"))))}var he={pane:"Ctogp",paneStandart:"Ctogp Cto2oj",panePlusSecondary:"Ctogp Cto204",panePlus1a:"Ctogp Cto2a3",panePlus1Secondary:"Ctogp Cto2v9",panePlus2:"Ctogp Cto22p",panePlus2Secondary:"Ctogp Cto2qi",centerGroup:"Cto1ei",secondaryControls:"Ctozt",item:"Cto2qn",itemSmall:"Cto2qn Cto2ih",itemSmallHidden:"Cto2qn Cto2ih Cto10u",handler:"Cto1nx"},me={exitActive:"Byam0",enterActive:"Bya2az",enter:"Bya2dc",exit:"Bya1se"};function pe(e){switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function fe(e){let{capo:t,layer:s}=e;if(!s)return null;const{x1:i,y:r}=s;return a(n,{children:[a("path",{id:"capo",transform:"translate(".concat(i,", ").concat(-16-r,")"),d:"M24.5 1.5c.5.5.25 2.5-.25 2.5C13 3.5 7 3.9 3.8 4.35c0 0-.05 3.9 2.7 6.15 2.75 2.25 5 2.5 7.75 2.75 3 0 1.75.5 1.75.75s1.25.75-.75 1c-3 .25-7 0-10-1 .5.5.75 1.25.5 1.5L4.5 17C2.76 16.75.6 15.25 0 13l1-1.25c.5-.75 1.75.25 1.75.25C2 10.75.25 6.5.25 3.75.25 1.5 1 1 2 .75S19 0 24.5 1.5zm-1.3 1.65c.65-.3 1.05-.9-.7-1.15-3.75-.75-14.75-.75-20-.5-.5 0-1 .25-1.25 1.25-.75 3 2.25 8.5 2.5 9.25L3 13s-1-.5-1.5-.5L1 13c.75 2 1.75 2.25 3.25 2.75l.5-.5C4.75 14.75 4 14 4 14l1.25-1c3 1 5.25 1.5 9.75 1.25.12-.01.25-.25 0-.25-3.75 0-6.5-.75-8.5-2.25S2.5 7.25 3 3.5c-.13-.05 9.8-1.2 20.2-.35z",className:"gs2yb"},"path"),a("text",{className:"gs2y2",x:30+i,y:-3-r,children:"Capo ".concat(t).concat(pe(t)," fret")},"text")]})}var ve={header:"C6110p",separator:"C61zq",placeholder:"C6131n",song:"C612su",dash:"C61p",artist:"C61rs",track:"C61a4",difficulty:"C6133l",fill:"C611xo",fillText:"C612yg",explainLink:"C612gh",difficultyLinksPanel:"C61287",findEasierSongsLink:"C612h7",reportInvalidDifficultyLink:"C612h7 C611ae",label:"C61az",showroom:"C61jc",demo:"C611ts",instrumentTab:"C612rd",burger:"C61212",icon:"C611fz",stroke:"C611m5"},ge={title:"Bcrye",line:"Bcr2z8",toggle:"Bcr19p",wrap:"Bcr1zk",wrapHorizontal:"Bcr236",notation:"Bcr1zo",name:"Bcr1os",def:"Bcr1dk",notation__old:"Bcr1zo Bcrlb",subtitle:"Bcrl3"};const Ce=31,ye=34,ke=91,be=46,we=92,Ne=53,xe=[[36,"Kick/Bass\nDrum"],[35,"Acoustic\nBass\nDrum"],[50,"High\nFloor\nTom"],[48,"High\nTom"],[47,"Mid\nTom"],[45,"Low\n(Floor)\nTom"],[41,"Low\n(Floor)\nTom"],[43,"Very\nLow\nTom"],[38,"Snare"],[40,"Electric\nSnare"],[37,"Side\nStick\nSnare"],[ke,"Rim\nShot\nSnare"],[42,"Closed\nHi Hat"],[we,"Half\nHi Hat"],[be,"Open\nHi Hat"],[44,"Foot\nHi Hat"],[93,"Ride\nEdge\n"],[59,"Ride\nEdge\n"],[51,"Ride\nCymbal\n"],[Ne,"Ride\nBell"],[55,"Splash\n"],[52,"China\n\n"],[49,"High\nCrash\n"],[57,"Medium\nCrash\n"],[99,"Low\nCowbell"],[56,"Cowbell"],[102,"High\nCowbell"],[27,"High Q"],[28,"Slap"],[29,"Scratch\nPush\n"],[30,"Scratch\nPull\n"],[Ce,"Sticks"],[32,"Square\nClick"],[33,"Metronome\nClick"],[ye,"Metronome\nBell"],[39,"Hand\nClap"],[54,"Tambourine\n"],[58,"Vibraslap"],[60,"High\nBongo"],[61,"Low\nBongo"],[62,"Mute\nHigh\nConga"],[63,"Open\nHigh\nConga"],[64,"Low\nConga"],[65,"High\nTimbale"],[66,"Low\nTimbale"],[67,"High\nAgogo"],[68,"Low\nAgogo"],[69,"Cabasa"],[70,"Maracas"],[71,"Short\nWhistle"],[72,"Long\nWhistle"],[73,"Short\nGuiro\n"],[74,"Long\nGuiro\n"],[75,"Claves"],[76,"High\nWood\nBlock"],[77,"Low\nWood\nBlock"],[78,"Mute\nCuica"],[79,"Open\nCuica"],[80,"Mute\nTriangle"],[81,"Open\nTriangle"],[82,"Shaker\n"],[83,"Jingle\nBell\n"],[84,"Bell\nTree\n"],[85,"Castinets\n"],[86,"Mute\nSurdo\n"],[87,"Open\nSurdo\n"]],He=[42,44,37,29,30,33,55,51,78,80,86,32,62,93,59],Se=[49,57],Be=[56,102,99,54,76,77];function ze(e,t){const s=p*(5-t)+3;return He.includes(e)||Se.includes(e)||e===we||e===be||52===e||93===e||59===e?"M0 4v".concat(s-4):Be.includes(e)?"M0 3v".concat(s-3):"M0 0v".concat(s)}function Ie(e){let{noteString:t,className:s,noteTransform:n}=e;const i=-(t-Math.round(.999*t))*p;return a("use",{className:s,transform:n+" translate(0, ".concat(i,")"),xlinkHref:"#extraLine"})}function Me(e){let{fret:t,className:s,transform:n}=e;return He.includes(t)?a("use",{className:s,transform:n,xlinkHref:"#drumCross"}):Se.includes(t)?a("use",{className:s,transform:n,xlinkHref:"#drumCross",style:"stroke-width: 2"}):52===t?a("g",{className:s,transform:n,children:[a("use",{xlinkHref:"#drumHat"}),a("use",{xlinkHref:"#drumCross",style:"stroke-width: 2"})]}):Be.includes(t)?a("use",{className:s,transform:n,xlinkHref:"#drumTriangle"}):[Ne,ke,ye].includes(t)?a("use",{className:s,transform:n,xlinkHref:"#drumRhomb"}):[be].includes(t)?a("use",{className:s,transform:n,xlinkHref:"#drumCircleCross"}):[we].includes(t)?a("use",{className:s,transform:n,xlinkHref:"#drumCircleStroke"}):[Ce].includes(t)?a("use",{className:s,transform:n,xlinkHref:"#drumStroke"}):a("use",{className:s,transform:n,xlinkHref:"#drum"})}var De={strings:"B6413b"},Pe={harmonic:"h82xl",rest0:"r",rest1:"h82ou",rest2:"h8j2",rest3:"h82so",voice:"h81p9",voice0:"h81p9 v",voice1:"h81p9 h82d8",voice2:"h81p9 h82c6",voice3:"h81p9 h8cd",edited:"h816m",vDrum:"h818t",vDrum0:"h818t h810t",vDrum1:"h81w1",vDrum2:"h82qg",vDrum3:"h8152",drumstick:"h8ey",drums0:"h8ey h81yr",drums1:"h8ey h8306",drums2:"h8ey h81cu",drums3:"h8ey h82xx",stick0:"h8ey h81cp",stick1:"h8ey h82tw",stick2:"h8ey h85n",stick3:"h8ey h82pf"};function Te(e){let{end:s}=e,a="M0,0v48";for(let e=0;e<5;e++)a+="M".concat(0,",").concat(p*e," h").concat(s);return a+="V0",t("path",{className:De.strings,d:a})}function Le(e){let{x:s,title:a,fret:i,string:r}=e;return t(n,null,t("text",{"text-anchor":"middle"},a.split("\n").map(((e,a)=>t("tspan",{x:s,y:-14*(3-a)},e)))),t(je,{x:s,fret:i,string:r}))}function je(e){let{x:s,fret:a,string:i}=e;const r=Pe.drums0,o="translate(".concat(s,", ").concat(.5+p*i,")"),l=t(Me,{fret:a,className:r,transform:o}),c=(i<=-1||i>=5)&&t(Ie,{noteString:i,className:De.strings,noteTransform:o});return 93===a||59===a?t(n,null,c,t("use",{className:r,transform:"translate(".concat(s,", ").concat(.5-p/2,")"),xlinkHref:"#drumHatEdge"}),l):c?t(n,null,c,l):l}function Ae(e){const{drumNotes:s}=e,a=60*Math.max(4,s.length);return t("svg",{className:"rw29l",width:a,height:130},t("g",{transform:"translate(0, 54)"},t(Te,{end:a}),s.map(((e,s)=>t(Le,{fret:e[0],string:f(e[0],!0),title:e[1],x:60*s+30})))))}const _e={animationStyles:me},Fe={animationStyles:Y},Oe="help_notation",qe=i((e=>{let{usedDrums:s,horizontal:n}=e;const{layer:i,experiments:r}=h("layer","experiments"),o="help_notation"===i.layer,l="drop"!==r.drum_standard_notation,c=l?function(e,t){const s=function(e){let t=xe.filter((t=>e.has(t[0])));return e.has(41)&&e.has(45)&&(t=t.filter((e=>45!==e[0]))),t}(e),a=[];for(let e=0;e<s.length;e+=4)a.push(s.slice(e,e+4));return t&&a.length%2==1&&a.push([]),a}(s,n):function(e){const t=Math.floor((e.size+2)/3),s=[...e.values()];return[s.slice(0,t),s.slice(t,2*t),s.slice(2*t)]}(s);return t(C,null,o&&t(v,n?_e:Fe,t("div",{className:n?ge.wrapHorizontal:ge.wrap},t("div",{className:l?ge.notation:ge.notation__old,id:"drum_notation"},t("h3",{className:ge.title},"Instruments in the current track"),l?c.map((e=>a(Ae,{drumNotes:e}))):c.map(((e,s)=>t("div",{className:ge.col,key:s},e.map((e=>t("dl",{className:ge.line,key:e.name},t("dt",{className:ge.name},e.name),t("dd",{className:ge.def},g[e.name])))))))))))}));function Ee(e){let{styles:s}=e;return t("svg",{width:13,height:13,className:s.icon,viewBox:"0 -3 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t("rect",{y:1,width:13,height:11,rx:3,className:s.fill}),t("path",{className:s.fillText,d:"M4.032 5.18h1.46c.02-.68.25-1.23 1.04-1.23.52 0 .86.32.86.8 0 .62-.52.91-.94 1.27-.66.57-.69 1.02-.69 1.84h1.33c0-.7.12-.89.7-1.29.64-.44 1.13-.96 1.13-1.79 0-1.23-.95-2.05-2.37-2.05-1.6 0-2.43.96-2.52 2.45zm3.16 3.29h-1.55V10h1.55V8.47z"}))}class Re extends e{constructor(){super(...arguments),Re.prototype.__init.call(this),Re.prototype.__init2.call(this)}componentDidMount(){}__init(){this.onUnderstandLinkClick=e=>{e.preventDefault(),this.props.dispatch("layer/hide")}}__init2(){this.onStillHaveQuestionsLinkClick=()=>{}}render(){return t("div",{className:"i5k2 vtm3",id:"explain-difficulty-popup"},t("span",{className:"i5t4 vt1nf"},"Each guitar track is assigned a difficulty level based on:",t("ol",{},t("li",{},"The speed required for playing left and right hand. Faster is harder."),t("li",{},"The techniques required: bends, vibrato, harmonics, sweep picking, string skipping, etc. and their combinations."),t("li",{},"The relative complexity of the chords used: F is harder than G because it requires a barre, Cm7b5 is harder than C5, etc.")),t("p",{},"We usually skip the hardest 30% of a song (to skip solos) and roughly calculate the difficulty level based on the remaining 70%. In most cases, you can play the whole song in a band if you can play just 70% of the song."),t("p",{},t("i",{},"Disclaimer: the difficulty detection algorithm is experimental and designed for classic rock/metal songs that are played with a pick and it may produce less accurate results for other styles.")),t("div",{className:"vt25r"},t("a",{onClick:this.onUnderstandLinkClick,href:"",role:"button"},"I understand, all clear"),t(m,{to:"/a/wa/help#contact-us",onClick:this.onStillHaveQuestionsLinkClick},"I still have questions"))))}}var Ve=y(Re);const Ge={animationStyles:Y};function We(e){let{handleNotation:a,track:i}=e;const{dispatch:r,part:o,screen:l,layer:c,device:u,isDeleted:d}=h("layer","part","meta","screen","layer","device","isDeleted"),m=u.isDesktop,p=l.isSmall,f=o.current&&o.current.usedDrums,g=s((()=>{r("layer/show","difficulty_explained_popup")}),[]),y=i.difficulty,k=!p&&y&&"difficulty_explained_popup"===c.layer;return t(n,null,t("span",{className:ve.name,"aria-label":"track"},"Track: ",i.title),p&&!d&&f&&t("button",{className:ge.toggle,onClick:a,"aria-label":"notation"},"(notation)"),p&&!d&&f&&t(qe,{usedDrums:f}),p&&t("hr",{className:ve.separator,width:250}),y&&t("span",{className:ve.difficulty,"aria-label":"track difficulty (rhythm)"},t("span",{className:ve.label},"Difficulty (Rhythm):"),t(X,{id:"track-difficulty",difficultyString:i.difficulty}),m&&t("button",{className:ve.explainLink,onClick:g,title:"Explain how difficulty is calculated",id:"explain_difficulty_link"},t(Ee,{styles:ve})),m&&t(C,null,k&&t(v,Ge,t(Ve,null)))))}function Ue(){return t("svg",{width:55,height:55,viewBox:"0 0 55 55"},t("path",{d:"M48 0a6 6 0 0 1 6 6v42a6 6 0 0 1-6 6h-42a6 6 0 0 1-6-6v-42a6 6 0 0 1 6-6z",fill:"#FFAD00"}),t("path",{stroke:"#FFF","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",transform:"translate(7 10) scale(1.85)",d:k}))}function Qe(e){let{onClick:s,id:a}=e;return t(m,{className:"i5k2 Cpv2j2",id:a,to:"/a/wa/signin",onClick:s,role:"dialog","aria-label":"Sign up for free to favorite this tab."},t("span",{className:"i5tp Cpv16o"},t(Ue,null)),t("div",{className:"i5t4 Cpv2mh"},"Please ",t("span",{className:"Cpv2hv"},"sign up")," for free",t("br",null),"to favorite this tab."))}const Je={animationStyles:Y};function Ke(){const{dispatch:e,user:a,favorites:n,meta:i,layer:r,isDeleted:o}=h("user","favorites","meta","experiments","layer","isDeleted");if(o||!i.allowedByLicense)return;const l="favorite"===r.layer,c=a.isLoggedIn,u=i.partId,d=c&&(i.wasFavoriteOnServerRender||n.favorites.some((e=>e.songId===i.songId))),m=s((()=>{if(c&&i.current){if(d)e("favorites/delete",i.songId);else{const{songId:t,artistId:s,artist:a,title:n,tracks:r}=i.current,o={songId:t,artistId:s,artist:a,title:n,tracks:r?r.map((e=>{let{instrument:t,instrumentId:s,name:a,difficulty:n,tuning:i}=e;return{instrument:t,instrumentId:s,name:a,tuning:i,difficulty:n}})):r,defaultTrack:u};b(o),e("favorites/add",{songId:t,song:o})}r.layer&&e("layer/hide")}else l?e("layer/hide"):e("layer/show","favorite")}),[r,c,d,i,u]);return t("div",{className:"xji4",id:"favorite"},t("button",{className:"xj3s",id:"favorite-toggle",onClick:m,title:d?"Remove from favorites":"Add to favorites"},t(w,{width:30,height:30,viewbox:"-4 -3 35 35",state:d?"fill":"none",styles:{icon:d?"xj248 xj13q":"xj248"},id:"favorite-icon"})),t(C,null,l&&t(v,Je,t(Qe,{id:"favorite-popup"}))))}function Ye(e){let{styles:s}=e;return t("svg",{width:21,height:21,viewBox:"1050 24.198 18 20.996",className:s.icon,id:"tab-delete-icon",role:"img","aria-labelledby":"tab-delete-id"},t("title",{id:"tab-delete-id"},"Delete Tab"),t("path",{className:s.strokeAnim,d:"M1063.828 45.177l-10.282.017c-1.224-.003-2.215-.959-2.218-2.14V28.767c0-.434.364-.785.814-.785l13.716-.017c.45 0 .814.352.814.785v14.287c-.003 1.181-.995 2.138-2.219 2.14h-.625zm-10.768-15.625V42.86c0 .315.264.57.591.57h10.667a.58.58 0 0 0 .591-.57V29.552h-11.849z"}),t("path",{className:s.fill,d:"M1062.375 29.552h-7.094c-.449 0-.813-.352-.813-.785v-2.229c.002-1.292 1.087-2.339 2.426-2.34h3.868c1.339.001 2.425 1.048 2.426 2.34v2.229c0 .433-.364.785-.813.785zm-6.15-1.57h5.206v-1.266a.786.786 0 0 0-.8-.771h-3.607a.786.786 0 0 0-.799.771v1.266zM1059 41.691c-.483 0-.875-.351-.875-.785v-8.719c0-.433.392-.784.875-.784s.875.351.875.784v8.719c0 .434-.392.785-.875.785zM1055.781 41.691c-.483 0-.875-.351-.875-.785v-8.719c0-.433.392-.784.875-.784s.875.351.875.784v8.719c0 .434-.392.785-.875.785zM1062.25 41.691c-.483 0-.875-.351-.875-.785v-8.718c0-.434.392-.785.875-.785s.875.351.875.785v8.718c0 .434-.392.785-.875.785z"}),t("path",{className:s.strokeAnim,d:"M1067.169 29.677h-16.338c-.459 0-.831-.441-.831-.875 0-.433.372-.851.831-.851h16.338c.459 0 .831.418.831.851 0 .434-.372.875-.831.875z"}))}var Ze={delete:"tnv2",button:"tn1vk",buttonActive:"tn1vk tnwo",icon:"tn13b",fill:"tn1pz",strokeAnim:"tn1pz tn10k"};const Xe=()=>{const{dispatch:e,meta:a,part:n,editor:i,isDeleted:r}=h("meta","part","editor","isDeleted");if(r||a.isFailed||n.isFailed||!a.current||!a.current.tracks||!a.current.audio||!i.canDelete)return;const o=s((()=>{a.current&&((e,t)=>{const s="".concat(e,", ").concat(t),a="You are about to delete the whole song with all its revisions permanently. To confirm deletion, please enter the song artist and title as described below:\n\n"+s+"\n";return window.prompt(a)===s||(window.alert("Confirmation string does not match artist and title. Aborting deletion!"),!1)})(a.current.artist,a.current.title)&&e("editor/delete",a.current)}),[e,a.current]),l=i.processingDeletion;return t("div",{className:Ze.delete,id:"deletion"},l&&t(N,{width:21,height:21,fill:"#42a4f8"}),!l&&t("button",{className:Ze.button,onClick:o},t(Ye,{styles:Ze})))};function $e(e){let{styles:s}=e;return t("svg",{width:25,height:24,viewBox:"0 0 25 24",className:s.icon,id:"revisions-icon",role:"img","aria-labelledby":"revisions-title-id"},t("title",{id:"revisions-title-id"},"Revisions"),t("path",{className:s.strokeAnim,"stroke-width":"2",d:"M19 10.5V17a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h9"}),t("path",{className:s.stroke,"stroke-width":"1.8","stroke-linecap":"round",strokeLinejoin:"round",d:"M17.8 7l-7 6.6-4.5 1.7 1.9-4.6 7-6.6"}),t("path",{className:s.fill,d:"M8.2 10.7l2.6 2.9-4.5 1.7zM19.4 6.3l1.8-1.7c1.4-1.4-2-5-3.5-3.6l-1.8 1.7z"}))}var et={motto:"Cuf1ge",actions:"Cuf6b",notes:"Cuf7x",notesWarning:"Cuf7x Cuf2sa",field:x+" Cuf13f",textarea:"Cuf8p"},tt={error:"Bqh1iv",title:"Bqh25v",rejected:"Bqh2xh",content:"Bqh2j6",exitActive:"Bqh2fg",enterActive:"Bqhgy",enter:"Bqh1yg",exit:"Bqhal"};const st=Object.assign({},tt,{content:"Bqh2j6 B9j34t"}),at=e=>{let{meta:a,actions:n}=e;const{dispatch:i,user:l}=h("user"),c=r(),u=r(),d=l.isAdmin,m=d?".gp3, .gp4, .gp5, .gpx, .gp":".gp3, .gp4, .gp5",[p,f]=o(!1),[v,g]=o(null),[C,y]=o(null),[k,b]=o(null),w=s((e=>{e.preventDefault();const t=new H;return(async(e,t,s,n)=>{f(!0),g(null);try{const r=M(d);D([{field:e,validator:P},{field:t,validator:r}]);const o={file:t.files[0],summary:e.value,songId:a.songId.toString(),force:s};await T(i,o,n),b(null)}catch(e){e instanceof L?(y(!0),b(e)):(y(!1),g(e))}f(!1)})(u.current,c.current,C,t.signal),t.abort.bind(t)}),[u,c,C]),N=a.tracks&&a.tracks.length>2;return t("form",{noValidate:!0,className:et.form,onSubmit:w,action:""},t(I,{styles:tt,error:v}),t("p",{className:et.motto,"aria-label":"motto"},"Download the latest revision from the list below, make your edits,",t("br",null),"save the result and upload it using the form below.",N&&t("span",{role:"warning"},t("br",null),"Please make sure to keep all the tracks in the resulting file.")),t($,{id:"revisionFile",accept:m,label:"Upload your .gp5 file",ref:c,name:"file",error:k||v,popup:!0,errorStyles:k?st:tt,isDropFileAvailable:!0,isNewFormats:d}),t("p",{className:et.notes,role:"instructions"},"To edit a tab you'll need to either buy ",t("a",{href:"https://www.guitar-pro.com/en/index.php",rel:"noopener noreferrer",target:"_blank"},"Guitar Pro")," software or",t("br",null),"use a free ",t("a",{href:"https://sourceforge.net/projects/tuxguitar",rel:"noopener noreferrer",target:"_blank"},"TuxGuitar")," alternative."),t("p",{className:et.notes,role:"instructions"},"We only support Guitar Pro 3, 4, and 5 files at the moment.",t("br",null),"If you have a Guitar Pro 6/7+ (.gpx, .gp) file, please export it to a Guitar Pro 5 file format first.",t("br",null),t("a",{href:"https://www.guitar-pro.com/en/index.php",rel:"noopener noreferrer",target:"_blank"},"Guitar Pro"),": File → Export → GP5",t("br",null),t("a",{href:"https://sourceforge.net/projects/tuxguitar",rel:"noopener noreferrer",target:"_blank"},"TuxGuitar"),": File → Save As → Guitar Pro 5"),t(z,{ref:u,name:"summary",type:"textarea",error:v,placeholder:"Briefly explain your changes (fixed errors, replaces with whole new version, corrected tempo, etc)",styles:et,errorStyles:tt,popup:!0}),t("div",{className:et.actions},t("a",{className:S.popupButtonLinkGreen,onClick:n.back},"Cancel"),t(B,{id:k?"submitRevisionButtonWarning":"submitRevisionButton",title:C?"Submit anyway":"Submit revision",processing:p})),t("p",{className:et.notes},"Once processing is complete, we'll send you an email notification,",t("br",null),"and the site will display the new revision."))};var nt={section:"w31p8",current:"w3261",currentText:"w3dp",options:"w3a5",reason:"w31q",text:"w3n5",textarea:"w32aw",title:"w3s9",notes:"w31we",actions:"w31fb"};const it={errors:"It introduced new mistakes in the tab",tracks:"It removed some instruments",glitches:"It has problems with audio/display",version:"I've got used to a previous revision",other:"Other reasons"};function rt(e,t){switch(t.type){case"enable":return Object.assign({},e,{form:!0});case"toggle":return Object.assign({},e,{reason:t.kind});case"submit":return Object.assign({},e,{processing:!0,error:null});case"success":return Object.assign({},e,{processing:!1,success:!0});case"failure":return Object.assign({},e,{processing:!1,error:t.error})}}const ot=i((e=>{let{meta:a,actions:n}=e;const i=r(),[o,c]=l(rt,{form:!1,processing:!1,error:null,reason:null,message:null,success:!1}),u=s((e=>{e.preventDefault();const t=new H;return(async(e,t,s,a)=>{c({type:"submit"});try{j(t,s);const i={songId:e.songId,revisionId:e.revisionId,kind:t,summary:s};await ee(i,a),function(e){const t=A("revisionReports")||[];t.push(e),_("revisionReports",t)}(e.revisionId),c({type:"success"}),setTimeout(n.success,0)}catch(e){c({type:"failure",error:e})}})(a,o.reason,i.current.value,t.signal),t.abort.bind(t)}),[o,a]);return o.success?t("section",{className:nt.section,"data-section":"report"},t("p",null,"Your report has been sent."),t("p",{className:nt.notes},"We'll review your report as soon as possible. ",t("br",null),"And will roll back the revision in case of a problem."),t("div",{className:nt.actions},t("a",{className:S.popupButtonOrange,onClick:n.back},"OK"))):t("section",{className:nt.section,"data-section":"report"},t("form",{noValidate:!0,className:nt.form,onSubmit:u,action:""},t(I,{styles:tt,error:o.error}),t("p",{className:nt.title},"Do you think that the new revision made the tab worse? If so, please tell us why:"),t("ul",{className:nt.options},Object.keys(it).map((e=>t("li",{key:e,className:nt.reason,onClick:()=>c({type:"toggle",kind:e})},t("input",{type:"radio",name:"reason",checked:o.reason===e,value:e}),t("label",{className:nt.text},it[e]))))),t(z,{ref:i,name:"comment",type:"textarea",error:o.error,placeholder:"Provide additional details on problematic tracks, measures, notes, etc.",styles:nt,errorStyles:tt,popup:!0}),t("div",{className:nt.actions},t("a",{className:S.popupButtonLinkOrange,onClick:n.back},"Cancel"),t(B,{id:"submitReportButton",title:"Report",processing:o.processing})),t("p",{className:nt.notes},"We'll review your report as soon as possible. ",t("br",null),"And will roll back the revision in case of a problem.")))}));function lt(){return t("svg",{width:15,height:8,viewBox:"0 0 15 8"},t("path",{d:"M8 2.9a1.1 1.1 0 0 0 0 2.2 1.1 1.1 0 0 0 0-2.2zm0 4a2.9 2.9 0 0 1 0-5.8 2.9 2.9 0 0 1 0 5.8zM14.5 3C13.2 2 10.9.3 8 .3S2.8 2 1.5 3c-.9.6-.9 1.4 0 2C2.8 6 5.1 7.7 8 7.7S13.2 6 14.5 5c.9-.6.9-1.4 0-2z"}))}function ct(){return t("svg",{width:8,height:8,viewBox:"0 0 8 8"},t("path",{d:"M7.45 4.71 6.17 2.67 7.46.61c.02-.04.03-.1 0-.14A.139.139 0 0 0 7.34.4H1.88V.13c0-.07-.31-.13-.39-.13-.07 0-.41.06-.41.13v7.73c0 .08.36.13.43.13.08 0 .46-.04.46-.12V4.93h5.38c.07 0 .13-.06.13-.13 0-.03-.02-.06-.03-.09z"}))}function ut(){return t("svg",{width:8,height:8,viewBox:"0 0 8 8"},t("path",{d:"M6 0H2v4H0l4 4L8 4H6V0z"}))}const dt=e=>{let{revision:s,meta:a,user:n,partId:i,reportAction:r,processing:o}=e;const l=!s.tracks,c=s.revisionId===a.revisionId,u=s.tracks?Math.min(s.tracks-1,i):0,d=F(a,u,s.revisionId),h=new Date(s.date).toLocaleDateString(),p=(f=s.revisionId,(A("revisionReports")||[]).includes(f));var f;const v=O("deleteRevision",s.revisionId),g=O("editRevision",s.revisionId),C=n.isAdmin&&t("span",{className:"C7kl6"},t("a",{className:"C7k7o",href:g,target:"_blank"},"edit"),t("a",{className:"C7k7o",href:v,target:"_blank"},"delete")),y={className:"C7kwj",to:d,"aria-label":"action"},k={className:"C7kv8",href:s.source,"aria-label":"download",download:!0,target:"_blank"},b=t("span",{className:"C7k2a1"},!c&&t(m,y,t(lt,null)," view"),c&&r&&t("a",{className:p?"C7k29n":"C7kv8",onClick:p?null:r},t(ct,null),p?" reported":" report"),c&&n.isLoggedIn&&t("a",k,t(ut,null)," download"));let w;return w=l?"C7k1rh C7k2yw":c?"C7k1rh C7kks":"C7k1rh",t("li",{key:s.revisionId,className:w},t("p",{className:"C7k12x"},s.summary),t("p",{className:"C7krn"},"".concat(h," – by "),t("span",{className:"C7k23d"},s.person),C,!l&&!o&&b))};var ht,mt,pt={popup:"Bo82u2",scroller:"Bo825c",spinner:"Bo828l",arrow:"Bo81oq",title:"Bo81ql",content:"Bo8j0",section:"Bo8dw",sectionForm:"Bo810y",actions:"Bo81gh",motto:"Bo831c",subMotto:"Bo831c Bo88c",auth:"Bo81nc",authReport:"Bo81nc Bo81ct",list:"Bo8sw"};!function(e){e[e.HIDDEN=0]="HIDDEN",e[e.SHOWN=1]="SHOWN"}(ht||(ht={})),function(e){e[e.HIDDEN=0]="HIDDEN",e[e.SHOWN=1]="SHOWN",e[e.SUCCESS=2]="SUCCESS"}(mt||(mt={}));const ft=e=>({height:e-76}),vt=()=>{const{dispatch:e,user:a,revisions:n,uploads:i,meta:l,screen:p}=h("user","revisions","uploads","meta","screen"),{isLoggedIn:f,isAdmin:v}=a,{isLoading:g}=n,{revision:C,revisionError:y,revisionSubmitted:k}=i,[b,w]=o(ft(p.viewport.height)),[x,B]=o(ht.HIDDEN),[z,I]=o(mt.HIDDEN),M=r(),D=r();c((async()=>{const t=new H;return await q(e,l.songId,t.signal),t.abort.bind(t)}),[l.songId]),u((()=>{const e=D.current.scrollHeight,t=ft(p.viewport.height).height,s=Object.assign({},b,{height:Math.min(e+107,t)});b.height!==s.height&&w(s)}),[p,D,n,C,i,z,x]),d((()=>e("upload/reset")),[]);const P=z?"Report revision":"Revisions",T=f&&C&&!y,L=f&&C&&C.songId!==l.songId,j=L?"".concat(C.artist," – ").concat(C.title):"",A={success:()=>I(mt.SUCCESS),back:()=>I(mt.HIDDEN)},_={back:()=>B(ht.HIDDEN)},F=t("section",{className:pt.section,"data-section":"welcome"},t("p",{className:pt.motto},"Have a better tab for this song?"),t("p",{className:pt.motto},"Care to fix the current tab?"),t("p",{className:pt.subMotto},"Submit your corrections for everyone to enjoy!"),t("div",{className:pt.auth,"aria-label":"auth"},"Please ",t(m,{"data-link":"signin",to:"/a/wa/signin"},"sign up")," for free to submit a new revision.")),O=t("section",{className:pt.sectionForm,"data-section":"submit"},t("p",{className:pt.motto},"Have a better tab for this song?"),t("p",{className:pt.motto},"Care to fix the current tab?"),t("p",{className:pt.subMotto},"Submit your corrections for everyone to enjoy!"),t("div",{className:pt.actions},t("a",{id:"submit-revision-button",className:S.popupButtonGreen,onClick:()=>B(ht.SHOWN)},"Submit a new revision"))),V=t("section",{className:pt.sectionForm,"data-section":"submit"},t(at,{meta:l.current,actions:_})),G=t("section",{className:pt.section,"data-section":"duplicate"},t("p",{className:pt.motto,"aria-label":"motto"},"Submitted version already exists on Songsterr."),!L&&t("p",{className:pt.subMotto,"aria-label":"info"},"Uploaded file looks exactly like the latest version of this song."),L&&t("div",null,t("p",{className:pt.subMotto,"aria-label":"info"},"Uploaded file looks like duplicate of ",t("br",null),t(m,{to:E(C),"data-link":"duplicate"},j)))),W=t("section",{className:pt.section,"data-section":"success"},t("div",null,t("p",{className:pt.motto},"Thanks for contributing to Songsterr!"),t("p",{className:pt.mottoInverse},"We are processing the file and will redirect to a new revision as soon as possible."),t("div",null,t(N,{fill:"#fefefe",width:30,height:30})))),U=s(((e,t)=>1===e.length||0!==t?{reportAction:null}:{reportAction:()=>{M.current&&(M.current.scrollTop=0),z||I(mt.SHOWN)}}),[M,z]),Q=t("section",{"data-section":"revisions"},t("ul",{className:pt.list},n.revisions&&l.current&&n.revisions.map(((e,s)=>t(dt,Object.assign({revision:e,meta:l.current,user:{isLoggedIn:f,isAdmin:v},partId:l.partId,key:e.revisionId,processing:k},U(n.revisions,s))))))),J=!f&&!z,K=f&&!T&&!z&&!x,Y=f&&!T&&!z&&!!x,Z=T&&!z&&!k,X=T&&!z&&k;return t("div",{id:"revisions-popup",className:pt.popup,style:b},t("h3",{className:pt.title},P),t("div",{className:pt.scroller,ref:M},t("div",{className:pt.content,ref:D},J&&F,K&&O,Y&&V,Z&&G,X&&W,f&&!!z&&t(ot,{meta:l.current,actions:A}),!f&&!!z&&t("section",{className:pt.section,"data-section":"welcome"},t("div",{className:pt.authReport,"aria-label":"auth"},"Please ",t(m,{"data-link":"signin",to:"/a/wa/signin"},"sign up")," for free to report issues."),t("a",{className:S.popupButtonLinkOrange,onClick:()=>I(0)},"Back to revisions")),g&&!z&&t("div",{className:pt.spinner},t(N,{className:R.revisions,width:25,height:24,fill:"#f7f6ee"})),!g&&!z&&Q)),t("div",{className:pt.arrow}))};var gt={revisions:"e32l8",toggle:"e32ah",toggleActive:"e32ah e3d0",icon:"e32em",fill:"e32kz",stroke:"e319r",strokeAnim:"e319r e31k"};const Ct={animationStyles:Y},yt=()=>{const{dispatch:e,layer:a,isDeleted:n,screen:i,meta:r}=h("layer","screen","isDeleted","meta");if(n||i.isSmall||!r.allowedByLicense)return;const o="revisions"===a.layer,l=s((()=>{"revisions"===a.layer?e("layer/hide"):e("layer/show","revisions")}),[a.layer]),c={className:o?gt.toggleActive:gt.toggle,id:"revisions-toggle",onClick:l,title:o?"Hide revisions":"Show revisions"},u=t(vt,null);return t("div",{className:gt.revisions,id:"revisions"},t("button",c,t($e,{styles:gt})),t(C,null,o&&t(v,Ct,u)))};const kt={animationStyles:Y,timeout:500};class bt extends e{__init(){this.pendingHideHint=null}constructor(){super(),bt.prototype.__init.call(this),bt.prototype.__init2.call(this),this.state={showHint:!1}}componentWillReceiveProps(e){const t=this.props;e.isFullscreen!==t.isFullscreen&&(this.cancelPendingHideHint(),e.isFullscreen&&(this.setState({showHint:!0}),this.pendingHideHint=setTimeout((()=>{this.setState({showHint:!1})}),3500))),e.isFullscreen||this.setState({showHint:!1})}componentWillUnmount(){this.cancelPendingHideHint()}render(){const e=this.props.isFullscreen,s="fullscreen-title-id";return t("div",{id:"fullscreen"},t(C,null,this.state.showHint&&t(v,kt,t("div",{className:"Cye2dx",onClick:this.onEscHintClick},"Press ESC to exit fullscreen mode"))),t("div",{className:"Cye1em",id:"fullscreen-controls"},t("button",{className:e?"Cye35a Cye1tx":"Cye35a",onClick:this.props.handleFullscreen,"aria-label":"fullscreen"},t("svg",{width:24,height:17,role:"img","aria-labelledby":s},t("title",{id:s},e?"Turn off fullscreen mode (ESC)":"Turn on fullscreen mode (Alt + Enter)"),t("path",{className:"Cye1ja",d:e?"M18.948 17.041h-2.015l.001-2.326c0-1.412 1.031-2.679 2.655-2.679h4.277l-.016 2.02h-4.183c-.49-.042-.735.186-.735.685 0 .498.006 1.265.016 2.3zM4.918 17.072h2.015v-2.326c0-1.412-1.031-2.679-2.655-2.679H0l.016 2.02H4.2c.49-.042.734.186.734.685 0 .499-.006 1.265-.016 2.3zM18.948.032h-2.015l.001 2.325c0 1.412 1.031 2.679 2.655 2.679h4.277l-.016-2.019h-4.183c-.49.041-.735-.187-.735-.686 0-.498.006-1.264.016-2.299zM4.918 0h2.015v2.326c0 1.412-1.031 2.679-2.655 2.679H0l.016-2.019H4.2c.49.041.734-.187.734-.686 0-.498-.006-1.265-.016-2.3z":"M2.015 5.005H0l.001-2.326C.001 1.267 1.032 0 2.656 0h4.277l-.016 2.02H2.734c-.49-.042-.735.186-.735.685 0 .498.006 1.265.016 2.3zM21.985 5.036H24l-.001-2.326c0-1.412-1.03-2.679-2.654-2.679h-4.278l.016 2.02h4.184c.49-.042.734.186.734.685 0 .499-.006 1.265-.016 2.3zM2.015 11.996H0l.001 2.325C.001 15.733 1.032 17 2.656 17h4.277l-.016-2.019H2.734c-.49.041-.735-.187-.735-.686 0-.498.006-1.264.016-2.299zM21.985 11.964H24l-.001 2.326c0 1.412-1.03 2.679-2.654 2.679h-4.278l.016-2.019h4.184c.49.041.734-.187.734-.686 0-.498-.006-1.265-.016-2.3z"})))))}__init2(){this.onEscHintClick=()=>{this.cancelPendingHideHint(),this.setState({showHint:!1})}}cancelPendingHideHint(){null!=this.pendingHideHint&&(clearTimeout(this.pendingHideHint),this.pendingHideHint=null)}}function wt(e){let{isTab:t,isChords:s,song:n,meta:i,chords:r}=e;if(t&&n.hasChords){const e=n.title+" Chords";return a(m,{to:V(i.current),className:"Cy52of",title:e,children:[a("img",{src:"/static/media/to-chords.e5117428.svg",width:23,height:22,alt:e})]})}if(s&&n.hasPlayer){const e=n.title+" Tab";return a(m,{to:E(r.current),className:"Cy52of",title:e,children:[a("img",{src:"/static/media/to-tab.10ed68c4.svg",width:23,height:22,alt:e})]})}}function Nt(e){let t,s=e[0],a=1;for(;a<e.length;){const n=e[a],i=e[a+1];if(a+=2,("optionalAccess"===n||"optionalCall"===n)&&null==s)return;"access"===n||"optionalAccess"===n?(t=s,s=i(s)):"call"!==n&&"optionalCall"!==n||(s=i((function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return s.call(t,...a)})),t=void 0)}return s}function xt(e){return U(e)?" Bass Tab":Q(e)?" Drum Tab":" Tab"}function Ht(e){let{plusAccess:s,handleFullscreen:n,handleNotation:i}=e;const{dispatch:r,route:o,routeContent:l,songs:c,artist:u,screen:d,favorites:p,meta:f,demo:v,chords:g,experiments:C,isDeleted:y}=h("route","routeContent","songs","artist","favorites","screen","meta","demo","chords","isDeleted","experiments"),k=o.isPanel,b="on"===C.jamplay,w=d.landscape,N=d.isSmall,x=l.songId;let H,S,B=!1,z=!1,I=!1,M=null;if("tab"===l.page?(B=!0,I=!s&&f.allowedByLicense,f.current&&f.current.songId===x&&(H=f.current,null!=f.partId&&f.current.tracks&&(M=f.current.tracks[f.partId])),!H&&g.current&&g.current.songId===x&&(H=Object.assign({},g.current,{hasChords:!0})),S=" Tab"):"chords"===l.page&&(z=!0,g.current&&g.current.songId===x&&(H=g.current),!H&&f.current&&f.current.songId===x&&(H=Object.assign({},f.current,{hasPlayer:!0})),S=" Chords"),H||(H=c.songs.list.find((e=>e.songId===x))),H||(H=u.songs.list.find((e=>e.songId===x))),H||(H=p.favorites.find((e=>e.songId===x))),H){if("tab"===l.page)if(M)S=xt(M.instrumentId);else if(null==l.partId)"bass"===l.partInstrument?S=xt(J):"drum"===l.partInstrument&&(S=xt(K));else{const e=H.tracks;e&&e[l.partId]&&(S=xt(e[l.partId].instrumentId))}return a("header",{className:ve.header,id:"header",children:[N&&w&&a(m,{to:"/".concat(G(c.pattern,c.filters)),className:ve.burger,title:"Search",id:"burger",children:[t(Z,{styles:ve})]}),B&&a(Ke,null),a(wt,{isTab:B,isChords:z,song:H,meta:f,chords:g}),a(k?"div":"h1",{className:ve.song,children:[a(m,{className:ve.artist,"aria-label":"artist",to:"".concat(W(H)).concat(G(u.pattern,u.filters)),children:H.artist}),a("span",{className:ve.dash,children:" - "}),a("span",{className:ve.title,"aria-label":"title",children:H.title}),a("span",{className:ve.instrumentTab,"aria-label":"tab type",children:S}),!d.fullscreen&&v.enabled&&t(m,{to:"/a/wa/plus",className:ve.demo,"aria-label":"Demo Song",onClick:()=>{r("curiosity/setConversionProps",{"Last referring link":"Demo Link"})}},a(oe,{width:42,height:22,shadow:"transparent",id:"iconDemo2"}))]},"h1"),B&&a(Xe,null),B&&a(yt,null),!d.isSmall&&a(bt,{isFullscreen:d.fullscreen,handleFullscreen:n}),I&&!b&&a(m,{id:"text-showroom",className:ve.showroom,to:"/a/wa/plus?from=header_link",onClick:()=>{r("curiosity/setConversionProps",{"Last referring link":"Header Link"})},children:['Learn "'.concat(H.title,'" faster with Songsterr Plus plan!')]}),I&&b&&a("a",{id:"text-jamplay",className:ve.showroom,href:"https://jamplay.com/?utm_campaign=2022-songsterr",target:"_blank",rel:"noopener noreferrer sponsored",onClick:()=>{r("curiosity/event",{event:"Clicked on JamPlay link"})},children:[["Can't play \"".concat(Nt([f,"access",e=>e.current,"optionalAccess",e=>e.title])||"song",'"? '),"Improve your playing via easy step-by-step video lessons!"]]}),M&&!y&&a(k?"div":"h2",{className:ve.track,children:a(We,{track:M,handleNotation:i})},"h2")]})}}export{Ht as A,fe as C,se as D,Ie as E,ie as F,Oe as N,de as P,me as a,Pe as b,pe as c,De as d,Me as e,tt as f,ze as g,te as h,le as i,ae as j,qe as k,he as s};
//# sourceMappingURL=AppHeader.43e94cc9.js.map
